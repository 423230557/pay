{include file="common::header"}<div class="banner">    <div class="wrapper">        <h2>API开发文档</h2>        <p>-API documentation -</p>    </div></div><link rel="stylesheet" href="__STATIC__/index/css/style_tr.css"><div class="wrapper">    <div class="docs">        <div class="guide-nv">            <ul>                <li class="">                    <a href="{:url('index/index/introduce')}">快速接入</a>                </li>                <li class="on">                    <a href="{:url('index/index/document')}">对接文档</a>                </li>            </ul>        </div>        <div class="docs-nav">            <ul>                <li class="on" href="#doc1"><a href="#">API开发文档简介</a></li>                <li><a  href="#doc2">接入网关</a></li>                <li><a  href="#doc3">请求参数</a></li>                <li><a  href="#doc4">签名算法</a></li>                <li><a  href="#doc5">支付结果通知</a></li>                <li><a  href="#doc6">渠道编码</a></li>            </ul>        </div>        <div class="docs-main">            <div class="docs-mod" id="doc1">                <div class="docs-hd">                    API开发文档简介                </div>                <div class="docs-bd">                    本文阅读对象：使用牛支付商户自服务系统，集成牛支付的技术架构师、研发工程师、系统运维工程师。通过本文档，商户可了解牛支付接入的技术、接入的产品业务、接入的流程、接入规范等信息，以便于商户顺利完成接入工作。                </div>            </div>            <div class="docs-mod"  id="doc2">                <div class="docs-hd">                    接入网关                </div>                <div class="docs-bd">                    登录后获取API接口地址                </div>            </div>            <div class="docs-mod"  id="doc3">                <div class="docs-hd">                    请求参数                </div>                <div class="docs-bd">                    <table><thead><tr><th>参数名称</th><th style="text-align: left;">参数含义</th><th style="text-align: left;">是否必填</th><th style="text-align: left;">参与签名</th><th style="text-align: left;">参数说明</th></tr></thead><tbody><tr><td>pay_memberid</td><td style="text-align: left;">商户号</td><td style="text-align: left;">是</td><td style="text-align: left;">是</td><td style="text-align: left;">平台分配商户号</td></tr><tr><td>pay_appid</td><td style="text-align: left;">应用ID</td><td style="text-align: left;">是</td><td style="text-align: left;">是</td><td style="text-align: left;">商户开通的应用ID</td></tr><tr><td>pay_submchid</td><td style="text-align: left;">子商户ID</td><td style="text-align: left;">是</td><td style="text-align: left;">是</td><td style="text-align: left;">若使用子商户功能请填写，没有请默认为0</td></tr><tr><td>pay_orderid</td><td style="text-align: left;">订单号</td><td style="text-align: left;">是</td><td style="text-align: left;">是</td><td style="text-align: left;">上送订单号唯一, 字符长度20</td></tr><tr><td>pay_applydate</td><td style="text-align: left;">提交时间</td><td style="text-align: left;">是</td><td style="text-align: left;">是</td><td style="text-align: left;">时间格式：2016-12-26 18:18:18</td></tr><tr><td>pay_bankcode</td><td style="text-align: left;">渠道编码</td><td style="text-align: left;">是</td><td style="text-align: left;">是</td><td style="text-align: left;">参考后续说明</td></tr><tr><td>pay_notifyurl</td><td style="text-align: left;">服务端通知</td><td style="text-align: left;">是</td><td style="text-align: left;">是</td><td style="text-align: left;">服务端返回地址.（POST返回数据）</td></tr><tr><td>pay_callbackurl</td><td style="text-align: left;">页面跳转通知</td><td style="text-align: left;">是</td><td style="text-align: left;">是</td><td style="text-align: left;">页面跳转返回地址（POST返回数据）</td></tr><tr><td>pay_amount</td><td style="text-align: left;">订单金额</td><td style="text-align: left;">是</td><td style="text-align: left;">是</td><td style="text-align: left;">商品金额</td></tr><tr><td>pay_md5sign</td><td style="text-align: left;">MD5签名</td><td style="text-align: left;">是</td><td style="text-align: left;">否</td><td style="text-align: left;">请看MD5签名字段格式</td></tr><tr><td>pay_attach</td><td style="text-align: left;">附加字段</td><td style="text-align: left;">否</td><td style="text-align: left;">否</td><td style="text-align: left;">此字段在返回时按原样返回(中文需要url编码)</td></tr><tr><td>pay_productname</td><td style="text-align: left;">商品名称</td><td style="text-align: left;">否</td><td style="text-align: left;">否</td><td style="text-align: left;"></td></tr><tr><td>pay_productnum</td><td style="text-align: left;">商户品数量</td><td style="text-align: left;">否</td><td style="text-align: left;">否</td><td style="text-align: left;"></td></tr><tr><td>pay_productdesc</td><td style="text-align: left;">商品描述</td><td style="text-align: left;">否</td><td style="text-align: left;">否</td><td style="text-align: left;"></td></tr><tr><td>pay_producturl</td><td style="text-align: left;">商户链接地址</td><td style="text-align: left;">否</td><td style="text-align: left;">否</td><td style="text-align: left;"></td></tr></tbody></table>                </div>            </div>            <div class="docs-mod"  id="doc4">                <div class="docs-hd">                    签名算法                </div>                <div class="docs-bd">                    <div>签名生成的通用步骤如下：</div>                    <div class="pp">                        第一步，设所有发送或者接收到的数据为集合M，将集合M内非空参数值的参数按照参数名ASCII码从小到大排序（字典序），使用URL键值对的格式（即key1=value1&key2=value2…）拼接成字符串。                    </div>                    <div class="pp">                        第二步，在stringA最后拼接上应用key得到stringSignTemp字符串，并对stringSignTemp进行MD5运算，再将得到的字符串所有字符转换为大写，得到sign值signValue。                    </div>                    <div class="pp">                        stringSignTemp="pay_amount=pay_amount&pay_applydate=pay_applydate&pay_bankcode=pay_bankcode&pay_callbackurl=pay_callbackurl&pay_memberid=pay_memberid&pay_notifyurl=pay_notifyurl&pay_orderid=pay_orderid&key=key"                        sign=MD5(stringSignTemp).toUpperCase()                    </div>                </div>            </div>            <div class="docs-mod"  id="doc5">                <div class="docs-hd">                    支付结果通知                </div>                <div class="docs-bd">                    <div>如果接收到服务器点对点通讯时，在页面输出“OK”（没有双引号，OK两个字母大写）,否则会重复3次发送点对点通知。</div>                    <table><thead><tr><th style="text-align: center;">参数名称</th><th style="text-align: center;">参数含义</th><th style="text-align: left;">参数说明</th></tr></thead><tbody><tr><td style="text-align: center;">memberid</td><td style="text-align: center;">商户编号</td><td style="text-align: left;"></td></tr><tr><td style="text-align: center;">appid</td><td style="text-align: center;">应用APPID</td><td style="text-align: left;"></td></tr><tr><td style="text-align: center;">submchid</td><td style="text-align: center;">子商户ID</td><td style="text-align: left;"></td></tr><tr><td style="text-align: center;">orderid</td><td style="text-align: center;">订单号</td><td style="text-align: left;"></td></tr><tr><td style="text-align: center;">amount</td><td style="text-align: center;">订单金额</td><td style="text-align: left;"></td></tr><tr><td style="text-align: center;">datetime</td><td style="text-align: center;">交易时间</td><td style="text-align: left;"></td></tr><tr><td style="text-align: center;">returncode</td><td style="text-align: center;">交易状态</td><td style="text-align: left;">“00” 为成功</td></tr><tr><td style="text-align: center;">attach</td><td style="text-align: center;">扩展返回</td><td style="text-align: left;">商户附加数据返回</td></tr><tr><td style="text-align: center;">sign</td><td style="text-align: center;">签名</td><td style="text-align: left;">请看验证签名字段格式</td></tr></tbody></table>                </div>            </div>            <div class="docs-mod"  id="doc6">                <div class="docs-hd">                    渠道编码                </div>                <div class="docs-bd">                    请登录商户，查看所属应用的支付渠道编码。                </div>            </div>        </div>    </div>    <style>        .docs-bd div.pp{            margin-bottom: 8px;        }        .docs-bd th{            border:#dcdcdc solid 1px;            padding: 5px 10px;            font-weight: bold;        }        .docs-bd table{            border-collapse:collapse;            width:100%;        }        .docs-bd table tr td{            border:#dcdcdc solid 1px;            padding: 5px 10px;        }    </style></div>{include file="common::footer"}